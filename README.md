# micro-php

micro-php是一个微型PHP库(不能算是框架)，一般只用来写简单的接口(只有控制器层)

封装这个库的初衷是因为，经常会有一些很小的项目，请求是比较少的，基本上两三个控制器就把所有的代码写完了

这种情况下用`ThinkPHP`或者`Laravel`这些封装了很多库的框架就很没有必要

用一些已经封装好的轻量框架其实也很不方便，总是需要去配置路由之类的一些内容，我们需要的是拿来就直接用的那种

直接写php文件又会需要一些公共的配置文件(比如连接数据库)，代码共用性比较差，简单的封装一下会好用一些

后续如果需要什么更多的功能再去加

安装

```

```

## 目录结构
```
app                     ------ 应用目录
    ├──index            ------ 多应用
    │   ├──index.php    ------ 默认的控制器
    ├──index.php        ------ 单应用
config                  ------ 配置文件目录
    ├──app.php          ------ 项目的配置文件
lib                     ------ 库的核心文件
vendor                  ------ 扩展类库目录
index.php               ------ 入口文件
```

### 单应用模式

默认是单应用模式

在`config/app.php`文件下更改

其实不改也可以直接使用多应用，改一下会判断模块是否存在，不改就不会去做判断

## 助手函数

`dump`格式化输出

`json`返回给接口的默认结构

## nginx伪静态

使用`ThinkPHP`的伪静态即可

```
location / {
	if (!-e $request_filename){
		rewrite  ^(.*)$  /index.php?s=$1  last;   break;
	}
}
```